name: Sandbox Pipeline

on:
  pull_request_review:
    types:
      - submitted
    branches-ignore:
      - master

jobs:
  Plan:
    name: "Plan Pipeline | Sandbox"
    runs-on: ubuntu-latest

    defaults:
      run:
        shell: bash

    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Install AWS CLI
        run: echo "Rodar somente o plano Sandbox"

  Apply:
    if: github.event.review.state == 'approved'
    name: "Apply Pipeline | Sandbox"
    runs-on: ubuntu-latest
    needs: [Plan]

    defaults:
      run:
        shell: bash

    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Install AWS CLI
        run: echo "Rodar somente o APPLY ap√≥s approved em Sandbox"
